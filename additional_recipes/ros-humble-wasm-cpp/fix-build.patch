diff --git a/wasm_cpp/cmake/WasmBuildOptions.cmake b/wasm_cpp/cmake/WasmBuildOptions.cmake
index 0b8ed3a..87c4fbe 100644
--- a/wasm_cpp/cmake/WasmBuildOptions.cmake
+++ b/wasm_cpp/cmake/WasmBuildOptions.cmake
@@ -9,7 +9,7 @@ endfunction()
 function(wasm_link_options target)
     target_link_options("${target}"
         PUBLIC "SHELL: -lembind"
-        PUBLIC "SHELL: --pre-js ${CMAKE_SOURCE_DIR}/pre.js"
+        PUBLIC "SHELL: --pre-js ${CMAKE_SOURCE_DIR}/src/pre.js"
         PUBLIC "SHELL: -fexceptions"
         PUBLIC "SHELL: -s ASYNCIFY=1"
         PUBLIC "SHELL: -s ALLOW_MEMORY_GROWTH=1"
diff --git a/wasm_cpp/include/wasm_cpp/context.hpp b/wasm_cpp/include/wasm_cpp/context.hpp
index b06d8ca..01187c8 100644
--- a/wasm_cpp/include/wasm_cpp/context.hpp
+++ b/wasm_cpp/include/wasm_cpp/context.hpp
@@ -48,7 +48,7 @@ namespace wasm_cpp
 
             // TODO: wasm objects
 
-            RosLibJS& get_roslib_js();
+           WASM_CPP_PUBLIC RosLibJS& get_roslib_js();
 
         private:
             void init_context();
